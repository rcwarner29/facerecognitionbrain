{"ast":null,"code":"'use strict';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar Promise = require('promise');\nvar validUrl = require('valid-url');\nvar _require = require('./constants'),\n  GEO_LIMIT_TYPES = _require.GEO_LIMIT_TYPES,\n  ERRORS = _require.ERRORS;\nvar _require2 = require('./helpers'),\n  checkType = _require2.checkType,\n  clone = _require2.clone;\nvar _require3 = require('./../package.json'),\n  VERSION = _require3.version;\nmodule.exports = {\n  wrapToken: function wrapToken(_config, requestFn) {\n    return new Promise(function (resolve, reject) {\n      if (_config.apiKey) {\n        var headers = {\n          Authorization: 'Key ' + _config.apiKey,\n          'X-Clarifai-Client': 'js:' + VERSION\n        };\n        return requestFn(headers).then(resolve, reject);\n      }\n      if (_config.sessionToken) {\n        var _headers = {\n          'X-Clarifai-Session-Token': _config.sessionToken,\n          'X-Clarifai-Client': 'js:' + VERSION\n        };\n        return requestFn(_headers).then(resolve, reject);\n      }\n      _config.token().then(function (token) {\n        var headers = {\n          Authorization: 'Bearer ' + token.accessToken,\n          'X-Clarifai-Client': 'js:' + VERSION\n        };\n        requestFn(headers).then(resolve, reject);\n      }, reject);\n    });\n  },\n  formatModel: function formatModel() {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var formatted = {};\n    if (data.id === null || data.id === undefined) {\n      throw ERRORS.paramsRequired('Model ID');\n    }\n    formatted.id = data.id;\n    if (data.name) {\n      formatted.name = data.name;\n    }\n    formatted.output_info = {};\n    if (data.conceptsMutuallyExclusive !== undefined) {\n      formatted.output_info.output_config = formatted.output_info.output_config || {};\n      formatted.output_info.output_config.concepts_mutually_exclusive = !!data.conceptsMutuallyExclusive;\n    }\n    if (data.closedEnvironment !== undefined) {\n      formatted.output_info.output_config = formatted.output_info.output_config || {};\n      formatted.output_info.output_config.closed_environment = !!data.closedEnvironment;\n    }\n    if (data.concepts) {\n      formatted.output_info.data = {\n        concepts: data.concepts.map(module.exports.formatConcept)\n      };\n    }\n    return formatted;\n  },\n  formatInput: function formatInput(data, includeImage) {\n    var input = checkType(/String/, data) ? {\n      url: data\n    } : data;\n    var formatted = {\n      id: input.id || null,\n      data: {}\n    };\n    if (input.concepts) {\n      formatted.data.concepts = input.concepts;\n    }\n    if (input.metadata) {\n      formatted.data.metadata = input.metadata;\n    }\n    if (input.geo) {\n      formatted.data.geo = {\n        geo_point: input.geo\n      };\n    }\n    if (includeImage !== false) {\n      formatted.data.image = {\n        url: input.url,\n        base64: input.base64,\n        crop: input.crop\n      };\n      if (data.allowDuplicateUrl) {\n        formatted.data.image.allow_duplicate_url = true;\n      }\n    }\n    return formatted;\n  },\n  formatMediaPredict: function formatMediaPredict(data) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'image';\n    var media = void 0;\n    if (checkType(/String/, data)) {\n      if (validUrl.isWebUri(data)) {\n        media = {\n          url: data\n        };\n      } else {\n        media = {\n          base64: data\n        };\n      }\n    } else {\n      media = Object.assign({}, data);\n    }\n\n    // Users can specify their own id to distinguish batch results\n    var id = void 0;\n    if (media.id) {\n      id = media.id;\n      delete media.id;\n    }\n    var object = {\n      data: _defineProperty({}, type, media)\n    };\n    if (id) {\n      object.id = id;\n    }\n    return object;\n  },\n  formatImagesSearch: function formatImagesSearch(image) {\n    var imageQuery = void 0;\n    var input = {\n      input: {\n        data: {}\n      }\n    };\n    var formatted = [];\n    if (checkType(/String/, image)) {\n      imageQuery = {\n        url: image\n      };\n    } else {\n      imageQuery = image.url || image.base64 ? {\n        image: {\n          url: image.url,\n          base64: image.base64,\n          crop: image.crop\n        }\n      } : {};\n    }\n    input.input.data = imageQuery;\n    if (image.id) {\n      input.input.id = image.id;\n      input.input.data = {\n        image: {}\n      };\n      if (image.crop) {\n        input.input.data.image.crop = image.crop;\n      }\n    }\n    if (image.metadata !== undefined) {\n      input.input.data.metadata = image.metadata;\n    }\n    if (image.geo !== undefined) {\n      if (checkType(/Array/, image.geo)) {\n        input.input.data.geo = {\n          geo_box: image.geo.map(function (p) {\n            return {\n              geo_point: p\n            };\n          })\n        };\n      } else if (checkType(/Object/, image.geo)) {\n        if (GEO_LIMIT_TYPES.indexOf(image.geo.type) === -1) {\n          throw ERRORS.INVALID_GEOLIMIT_TYPE;\n        }\n        input.input.data.geo = {\n          geo_point: {\n            latitude: image.geo.latitude,\n            longitude: image.geo.longitude\n          },\n          geo_limit: {\n            type: image.geo.type,\n            value: image.geo.value\n          }\n        };\n      }\n    }\n    if (image.type !== 'input' && input.input.data.image) {\n      if (input.input.data.metadata || input.input.data.geo) {\n        var dataCopy = {\n          input: {\n            data: clone(input.input.data)\n          }\n        };\n        var imageCopy = {\n          input: {\n            data: clone(input.input.data)\n          }\n        };\n        delete dataCopy.input.data.image;\n        delete imageCopy.input.data.metadata;\n        delete imageCopy.input.data.geo;\n        input = [{\n          output: imageCopy\n        }, dataCopy];\n      } else {\n        input = [{\n          output: input\n        }];\n      }\n    }\n    formatted = formatted.concat(input);\n    return formatted;\n  },\n  formatConcept: function formatConcept(concept) {\n    var formatted = concept;\n    if (checkType(/String/, concept)) {\n      formatted = {\n        id: concept\n      };\n    }\n    return formatted;\n  },\n  formatConceptsSearch: function formatConceptsSearch(query) {\n    if (checkType(/String/, query)) {\n      query = {\n        id: query\n      };\n    }\n    var v = {};\n    var type = query.type === 'input' ? 'input' : 'output';\n    delete query.type;\n    v[type] = {\n      data: {\n        concepts: [query]\n      }\n    };\n    return v;\n  },\n  formatObjectForSnakeCase: function formatObjectForSnakeCase(obj) {\n    return Object.keys(obj).reduce(function (o, k) {\n      o[k.replace(/([A-Z])/g, function (r) {\n        return '_' + r.toLowerCase();\n      })] = obj[k];\n      return o;\n    }, {});\n  }\n};","map":{"version":3,"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","Promise","require","validUrl","_require","GEO_LIMIT_TYPES","ERRORS","_require2","checkType","clone","_require3","VERSION","version","module","exports","wrapToken","_config","requestFn","resolve","reject","apiKey","headers","Authorization","then","sessionToken","_headers","token","accessToken","formatModel","data","arguments","length","undefined","formatted","id","paramsRequired","name","output_info","conceptsMutuallyExclusive","output_config","concepts_mutually_exclusive","closedEnvironment","closed_environment","concepts","map","formatConcept","formatInput","includeImage","input","url","metadata","geo","geo_point","image","base64","crop","allowDuplicateUrl","allow_duplicate_url","formatMediaPredict","type","media","isWebUri","assign","object","formatImagesSearch","imageQuery","geo_box","p","indexOf","INVALID_GEOLIMIT_TYPE","latitude","longitude","geo_limit","dataCopy","imageCopy","output","concat","concept","formatConceptsSearch","query","v","formatObjectForSnakeCase","keys","reduce","o","k","replace","r","toLowerCase"],"sources":["/Users/raywarner/Documents/ZTM/facerecognitionbrain/node_modules/clarifai/dist/utils.js"],"sourcesContent":["'use strict';\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Promise = require('promise');\nvar validUrl = require('valid-url');\n\nvar _require = require('./constants'),\n    GEO_LIMIT_TYPES = _require.GEO_LIMIT_TYPES,\n    ERRORS = _require.ERRORS;\n\nvar _require2 = require('./helpers'),\n    checkType = _require2.checkType,\n    clone = _require2.clone;\n\nvar _require3 = require('./../package.json'),\n    VERSION = _require3.version;\n\nmodule.exports = {\n  wrapToken: function wrapToken(_config, requestFn) {\n    return new Promise(function (resolve, reject) {\n      if (_config.apiKey) {\n        var headers = {\n          Authorization: 'Key ' + _config.apiKey,\n          'X-Clarifai-Client': 'js:' + VERSION\n        };\n        return requestFn(headers).then(resolve, reject);\n      }\n      if (_config.sessionToken) {\n        var _headers = {\n          'X-Clarifai-Session-Token': _config.sessionToken,\n          'X-Clarifai-Client': 'js:' + VERSION\n        };\n        return requestFn(_headers).then(resolve, reject);\n      }\n      _config.token().then(function (token) {\n        var headers = {\n          Authorization: 'Bearer ' + token.accessToken,\n          'X-Clarifai-Client': 'js:' + VERSION\n        };\n        requestFn(headers).then(resolve, reject);\n      }, reject);\n    });\n  },\n  formatModel: function formatModel() {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var formatted = {};\n    if (data.id === null || data.id === undefined) {\n      throw ERRORS.paramsRequired('Model ID');\n    }\n    formatted.id = data.id;\n    if (data.name) {\n      formatted.name = data.name;\n    }\n    formatted.output_info = {};\n    if (data.conceptsMutuallyExclusive !== undefined) {\n      formatted.output_info.output_config = formatted.output_info.output_config || {};\n      formatted.output_info.output_config.concepts_mutually_exclusive = !!data.conceptsMutuallyExclusive;\n    }\n    if (data.closedEnvironment !== undefined) {\n      formatted.output_info.output_config = formatted.output_info.output_config || {};\n      formatted.output_info.output_config.closed_environment = !!data.closedEnvironment;\n    }\n    if (data.concepts) {\n      formatted.output_info.data = {\n        concepts: data.concepts.map(module.exports.formatConcept)\n      };\n    }\n    return formatted;\n  },\n  formatInput: function formatInput(data, includeImage) {\n    var input = checkType(/String/, data) ? { url: data } : data;\n    var formatted = {\n      id: input.id || null,\n      data: {}\n    };\n    if (input.concepts) {\n      formatted.data.concepts = input.concepts;\n    }\n    if (input.metadata) {\n      formatted.data.metadata = input.metadata;\n    }\n    if (input.geo) {\n      formatted.data.geo = { geo_point: input.geo };\n    }\n    if (includeImage !== false) {\n      formatted.data.image = {\n        url: input.url,\n        base64: input.base64,\n        crop: input.crop\n      };\n      if (data.allowDuplicateUrl) {\n        formatted.data.image.allow_duplicate_url = true;\n      }\n    }\n    return formatted;\n  },\n  formatMediaPredict: function formatMediaPredict(data) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'image';\n\n    var media = void 0;\n    if (checkType(/String/, data)) {\n      if (validUrl.isWebUri(data)) {\n        media = {\n          url: data\n        };\n      } else {\n        media = {\n          base64: data\n        };\n      }\n    } else {\n      media = Object.assign({}, data);\n    }\n\n    // Users can specify their own id to distinguish batch results\n    var id = void 0;\n    if (media.id) {\n      id = media.id;\n      delete media.id;\n    }\n\n    var object = {\n      data: _defineProperty({}, type, media)\n    };\n\n    if (id) {\n      object.id = id;\n    }\n\n    return object;\n  },\n  formatImagesSearch: function formatImagesSearch(image) {\n    var imageQuery = void 0;\n    var input = { input: { data: {} } };\n    var formatted = [];\n    if (checkType(/String/, image)) {\n      imageQuery = { url: image };\n    } else {\n      imageQuery = image.url || image.base64 ? {\n        image: {\n          url: image.url,\n          base64: image.base64,\n          crop: image.crop\n        }\n      } : {};\n    }\n\n    input.input.data = imageQuery;\n    if (image.id) {\n      input.input.id = image.id;\n      input.input.data = { image: {} };\n      if (image.crop) {\n        input.input.data.image.crop = image.crop;\n      }\n    }\n    if (image.metadata !== undefined) {\n      input.input.data.metadata = image.metadata;\n    }\n    if (image.geo !== undefined) {\n      if (checkType(/Array/, image.geo)) {\n        input.input.data.geo = {\n          geo_box: image.geo.map(function (p) {\n            return { geo_point: p };\n          })\n        };\n      } else if (checkType(/Object/, image.geo)) {\n        if (GEO_LIMIT_TYPES.indexOf(image.geo.type) === -1) {\n          throw ERRORS.INVALID_GEOLIMIT_TYPE;\n        }\n        input.input.data.geo = {\n          geo_point: {\n            latitude: image.geo.latitude,\n            longitude: image.geo.longitude\n          },\n          geo_limit: {\n            type: image.geo.type,\n            value: image.geo.value\n          }\n        };\n      }\n    }\n    if (image.type !== 'input' && input.input.data.image) {\n      if (input.input.data.metadata || input.input.data.geo) {\n        var dataCopy = { input: { data: clone(input.input.data) } };\n        var imageCopy = { input: { data: clone(input.input.data) } };\n        delete dataCopy.input.data.image;\n        delete imageCopy.input.data.metadata;\n        delete imageCopy.input.data.geo;\n        input = [{ output: imageCopy }, dataCopy];\n      } else {\n        input = [{ output: input }];\n      }\n    }\n    formatted = formatted.concat(input);\n    return formatted;\n  },\n  formatConcept: function formatConcept(concept) {\n    var formatted = concept;\n    if (checkType(/String/, concept)) {\n      formatted = {\n        id: concept\n      };\n    }\n    return formatted;\n  },\n  formatConceptsSearch: function formatConceptsSearch(query) {\n    if (checkType(/String/, query)) {\n      query = { id: query };\n    }\n    var v = {};\n    var type = query.type === 'input' ? 'input' : 'output';\n    delete query.type;\n    v[type] = {\n      data: {\n        concepts: [query]\n      }\n    };\n    return v;\n  },\n  formatObjectForSnakeCase: function formatObjectForSnakeCase(obj) {\n    return Object.keys(obj).reduce(function (o, k) {\n      o[k.replace(/([A-Z])/g, function (r) {\n        return '_' + r.toLowerCase();\n      })] = obj[k];\n      return o;\n    }, {});\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}